(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{53215:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r="https://api.send-your.works"},7097:function(e,t,n){"use strict";n.d(t,{Z:function(){return y},a:function(){return O}});var r=n(92809),o=n(30266),c=n(809),u=n.n(c),i=n(67294),s=n(53215),a=n(85893);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=(0,i.createContext)(void 0),g={isLoggedIn:!1,accessToken:"",username:"",school_class:"",role:"user"};function y(e){var t=e.children,n=(0,i.useState)(g),r=n[0],c=n[1],f=(0,i.useState)(!0),y=f[0],O=f[1],b=function(){var e=(0,o.Z)(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("token"))){e.next=16;break}return e.prev=2,O(!0),e.next=6,fetch(s.z+"/user",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+t}});case 6:return n=e.sent,e.next=9,n.json();case 9:(r=e.sent).user&&c(p({isLoggedIn:!0},r.user)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),j();case 16:O(!1);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),j=function(){localStorage.removeItem("token"),c(g)};return(0,i.useEffect)((function(){b()}),[]),y?null:(0,a.jsx)(l.Provider,{value:{user:r,getUser:b,logIn:function(e){localStorage.setItem("token",e.accessToken),c(p({isLoggedIn:!0},e))},logOut:j},children:t})}var O=function(){return(0,i.useContext)(l)}},71476:function(e,t,n){"use strict";n.r(t);var r=n(92809),o=(n(43146),n(9008)),c=n(7097),u=n(85893);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.Component,n=e.pageProps;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(o.default,{children:[(0,u.jsx)("link",{rel:"icon",sizes:"192x192",href:"/images/logo.png"}),(0,u.jsx)("meta",{name:"description",content:"Send your work simply and safely."}),(0,u.jsx)("meta",{name:"theme-color",content:"#4158D0"}),(0,u.jsx)("meta",{property:"og:title",content:"Send Your Work"}),(0,u.jsx)("meta",{property:"og:type",content:"website"}),(0,u.jsx)("meta",{property:"og:description",content:"Send your work simply and safely."}),(0,u.jsx)("meta",{property:"og:image",content:"/images/ogImage.png"})]}),(0,u.jsx)(c.Z,{children:(0,u.jsx)(t,s({},n))})]})}},76363:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(71476)}])},43146:function(){},9008:function(e,t,n){e.exports=n(70639)},30266:function(e,t,n){"use strict";function r(e,t,n,r,o,c,u){try{var i=e[c](u),s=i.value}catch(a){return void n(a)}i.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,c){var u=e.apply(t,n);function i(e){r(u,o,c,i,s,"next",e)}function s(e){r(u,o,c,i,s,"throw",e)}i(void 0)}))}}n.d(t,{Z:function(){return o}})},92809:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(76363),t(34651)}));var n=e.O();_N_E=n}]);