(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{63070:function(e,s,r){"use strict";var t=r(4942),o=r(67294),n=r(8798),a=r(11163),c=r(85893);function i(e,s){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);s&&(t=t.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),r.push.apply(r,t)}return r}s.Z=function(e){return function(s){var r=(0,a.useRouter)(),l=(0,o.useContext)(n.AuthContext).isLoggedIn;return(0,o.useEffect)((function(){l&&r.replace("/home")})),l?null:(0,c.jsx)(e,function(e){for(var s=1;s<arguments.length;s++){var r=null!=arguments[s]?arguments[s]:{};s%2?i(Object(r),!0).forEach((function(s){(0,t.Z)(e,s,r[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))}))}return e}({},s))}}},30838:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return v}});var t=r(9008),o=r(41664),n=r(67294),a=r(15861),c=r(87757),i=r.n(c),l=r(19501),d=r(94649),m=r(19470),u=r.n(m),h=r(2147);function p(e){var s=e.username,r=e.password,t=e.schoolID,o=e.classID,n=e.email;return fetch(h.z+"/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:r,email:n,school_class:t+"_"+o})}).then((function(e){return e.json()}))}var f=r(8798),x=r(85893),y=l.Ry().shape({username:l.Z_().min(1,"Too short!").required("Name is required!"),password:l.Z_().min(6,"Too short!").required("Password is required!"),confirmPassword:l.Z_().oneOf([l.iH("password"),null],"Passwords must match"),schoolID:l.Z_().max(5,"Too long!").required("School ID is required!"),classID:l.Z_().max(5,"Too long!").required("Class ID is required!"),email:l.Z_().email("Invalid email").required("Email is required!"),privacyPolicy:l.O7().isTrue("You must accept terms of privacy policy")});function w(){var e=(0,n.useContext)(f.AuthContext).setIsLoggedIn,s=(0,n.useContext)(f.UserContext).setUser,r=(0,n.useState)(null),t=r[0],c=r[1],l=function(){var r=(0,a.Z)(i().mark((function r(t){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p(t);case 2:(o=r.sent).errors&&o?c(o?o.errors[0].param+": "+o.errors[0].msg:"Something went wrong!"):(localStorage.setItem("token",o.accessToken),s(o),e(!0));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,x.jsx)(d.J9,{initialValues:{username:"",password:"",confirmPassword:"",schoolID:"",classID:"",email:"",privacyPolicy:!1},validationSchema:y,onSubmit:l,children:function(e){var s=e.errors,r=e.touched;return(0,x.jsxs)(d.l0,{className:"flex flex-col myShadow w-96 z-10 bg-white rounded-xl",children:[(0,x.jsx)("h1",{className:"mx-5 mt-5 text-4xl font-bold pb-3",children:"Profile"}),(0,x.jsx)("h4",{className:"mx-5 w-14 text-center inline-block border-b-2 border-main pb-1",children:"Sign up"}),(0,x.jsxs)("div",{className:"flex flex-col py-5 items-center border-t border-gray-300",children:[(0,x.jsx)(d.gN,{name:"username",className:"focus:myShadowActive focus:outline-none z-10 rounded myShadow w-10/12 h-12 my-2 py-2 pl-3.5",placeholder:"Name",autoComplete:"off"}),s.name&&r.name&&(0,x.jsx)(u(),{top:!0,children:(0,x.jsx)("div",{className:"text-red-500 font-medium py-1 z-0",children:s.name})}),(0,x.jsx)(d.gN,{name:"password",type:"password",className:"focus:myShadowActive focus:outline-none z-10 rounded myShadow w-10/12 h-12 my-2 py-2 pl-3.5",placeholder:"Password"}),s.password&&r.password&&(0,x.jsx)(u(),{top:!0,children:(0,x.jsx)("div",{className:"text-red-500 font-medium z-0 py-1",children:s.password})}),(0,x.jsx)(d.gN,{name:"confirmPassword",type:"password",className:"focus:myShadowActive focus:outline-none z-10 rounded myShadow w-10/12 h-12 my-2 py-2 pl-3.5",placeholder:"Confirm password"}),s.confirmPassword&&r.confirmPassword?(0,x.jsx)(u(),{top:!0,children:(0,x.jsx)("div",{className:"text-red-500 font-medium z-0 py-1",children:s.confirmPassword})}):null,(0,x.jsx)(d.gN,{name:"schoolID",className:"focus:myShadowActive focus:outline-none z-10 rounded myShadow w-10/12 h-12 my-2 py-2 pl-3.5",placeholder:"School ID"}),s.schoolID&&r.schoolID?(0,x.jsx)(u(),{top:!0,children:(0,x.jsx)("div",{className:"text-red-500 font-medium py-1 z-0",children:s.schoolID})}):null,(0,x.jsx)(d.gN,{name:"classID",className:"focus:myShadowActive focus:outline-none rounded z-10 myShadow w-10/12 h-12 my-2 py-2 pl-3.5",placeholder:"Class ID"}),s.classID&&r.classID?(0,x.jsx)(u(),{top:!0,children:(0,x.jsx)("div",{className:"text-red-500 font-medium py-1 z-0",children:s.classID})}):null,(0,x.jsx)(d.gN,{name:"email",className:"focus:myShadowActive focus:outline-none z-10 rounded myShadow w-10/12 h-12 my-2 py-2 pl-3.5",placeholder:"Email"}),s.email&&r.email?(0,x.jsx)(u(),{top:!0,children:(0,x.jsx)("div",{className:"text-red-500 font-medium py-1 z-0",children:s.email})}):null]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("label",{className:"ml-1 z-10",children:[(0,x.jsx)(d.gN,{type:"checkbox",name:"privacyPolicy",className:"ml-10"})," I accept the terms of the",(0,x.jsx)(o.default,{href:"/",children:(0,x.jsx)("span",{className:"text-main cursor-pointer",children:" privacy policy"})})]}),s.privacyPolicy&&r.privacyPolicy?(0,x.jsx)(u(),{top:!0,children:(0,x.jsx)("div",{className:"text-red-500 z-0 font-medium text-center py-1",children:s.privacyPolicy})}):null,t&&(0,x.jsx)("div",{className:"text-red-500 font-medium text-center",children:t})]}),(0,x.jsx)("button",{type:"submit",className:"bg-main rounded text-white mt-5 mx-12 h-10",children:"Submit"}),(0,x.jsx)(o.default,{href:"/login",children:(0,x.jsx)("span",{className:"cursor-pointer text-main mt-6 mb-8 w-max mx-auto",children:"You already have account? Sign in!"})})]})}})}var j=r(1852),v=(0,r(63070).Z)((function(){var e=(0,n.useRef)(null),s=(0,j.useMediaQuery)({query:"(max-width: 768px)"});return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(t.default,{children:[(0,x.jsx)("title",{children:"Login | Send Your Work"}),(0,x.jsx)("meta",{name:"description",content:"Generated by create next app"})]}),(0,x.jsxs)("div",{className:"flex h-screen items-center justify-around overflow-visible relative",children:[!s&&(0,x.jsx)("img",{src:"/Star 6.svg",className:"absolute left-24 top-12"}),(0,x.jsx)("img",{src:"/Rectangle93.svg",className:"absolute z-0 left-1/4 bottom-20"}),(0,x.jsx)("img",{src:"/Rectangle 103.svg",className:"absolute z-0  left-1/5 w-2/5",ref:e}),(0,x.jsx)("img",{src:"/Rectangle94.svg",className:"absolute z-0 right-52 w-20 top-14"}),(0,x.jsx)("img",{src:"/Half-circle.svg",alt:"",className:"absolute right-0 bottom-0 w-2/12"}),(0,x.jsx)(w,{}),(0,x.jsx)(o.default,{href:"/",children:(0,x.jsx)("img",{src:"/close.svg",className:"cursor-pointer absolute right-10 top-10"})})]})]})}))},72072:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(30838)}])}},function(e){e.O(0,[774,586,732,888,179],(function(){return s=72072,e(e.s=s);var s}));var s=e.O();_N_E=s}]);